<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Open Houses Management</title>
    <link rel="stylesheet" href="/frontend/admin/admin-open-houses.css">
    <link rel="stylesheet" href="/frontend/admin/admin-general.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
</head>
<body>
    <div class="admin-layout">
        <aside class="admin-sidebar" id="adminSidebar">
            <div class="admin-sidebar-header">
                <div class="admin-sidebar-logo">
                    <i class="fas fa-home"></i>
                    <span>PrimeHomes Admin</span>
                </div>
            </div>
    
            <nav class="admin-sidebar-nav">
                <div class="admin-nav-item">
                    <a href="/frontend/admin/admin-dashboard.html" class="admin-nav-link">
                        <i class="fas fa-chart-line"></i>
                        <span>Dashboard</span>
                    </a>
                </div>
                <div class="admin-nav-item">
                    <a href="/frontend/admin/admin-users.html" class="admin-nav-link">
                        <i class="fas fa-users"></i>
                        <span>Users</span>
                    </a>
                </div>
                <div class="admin-nav-item">
                    <a href="/frontend/admin/admin-properties.html" class="admin-nav-link">
                        <i class="fas fa-building"></i>
                        <span>Properties</span>
                    </a>
                </div>
                <div class="admin-nav-item">
                    <a href="/frontend/admin/admin-amenities.html" class="admin-nav-link">
                        <i class="bi bi-clipboard-data-fill"></i>
                        <span>Amenities</span>
                    </a>
                </div>
                <div class="admin-nav-item">
                    <a href="/frontend/admin/admin-open-houses.html" class="admin-nav-link active">
                        <i class="bi bi-house-up-fill"></i>
                        <span>Open Houses</span>
                    </a>
                </div>
                <div class="admin-nav-item">
                    <a href="/frontend/admin/admin-inquiries.html" class="admin-nav-link">
                        <i class="fas fa-envelope"></i>
                        <span>Inquiries</span>
                    </a>
                </div>
                <div class="admin-nav-item">
                    <a href="/frontend/admin/admin-notifications.html" class="admin-nav-link">
                        <i class="fas fa-bell"></i>
                        <span>Notifications</span>
                    </a>
                </div>
                <div class="admin-nav-item">
                    <a href="/frontend/admin/admin-support.html" class="admin-nav-link">
                        <i class="fas fa-headset"></i>
                        <span>Support</span>
                    </a>
                </div>
                <div class="admin-nav-item">
                    <a href="/frontend/admin/admin-password-change.html" class="admin-nav-link">
                        <i class="fas fa-key"></i>
                        <span>Change Password</span>
                    </a>
                </div>
            </nav>
    
            <div class="admin-sidebar-footer">
                <button class="admin-logout-btn" id="adminLogoutBtn">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Logout</span>
                </button>
            </div>
        </aside>
    
        <button class="admin-sidebar-toggle" id="sidebarToggle">
            <i class="fas fa-bars"></i>
        </button>

        <main class="admin-main-content">
            <header class="admin-header">
                <div class="admin-header-content">
                    <h1 class="admin-page-title">
                        <i class="fas fa-door-open"></i>
                        Open Houses Management
                    </h1>
                    <div class="admin-header-actions">
                        <button type="button" id="open-house-add-btn" class="admin-btn admin-btn-primary">
                            <i class="fas fa-plus-circle"></i>
                            Schedule Open House
                        </button>
                    </div>
                </div>
            </header>
    
            <div class="admin-content">
                <!-- Filters Section -->
                <div class="open-house-filters-section">
                    <div class="open-house-search-wrapper">
                        <i class="fas fa-search open-house-search-icon"></i>
                        <input 
                            type="text" 
                            id="open-house-search-input" 
                            class="open-house-search-field"
                            placeholder="Search by property ID, host name, or location..."
                        />
                    </div>

                    <div class="open-house-filter-controls">
                        <div class="open-house-filter-item">
                            <label class="open-house-filter-label">
                                <i class="fas fa-calendar-check"></i>
                                Status
                            </label>
                            <select id="open-house-status-filter" class="open-house-filter-select">
                                <option value="all">All Statuses</option>
                                <option value="Scheduled">Scheduled</option>
                                <option value="Completed">Completed</option>
                                <option value="Cancelled">Cancelled</option>
                            </select>
                        </div>

                        <div class="open-house-filter-item">
                            <label class="open-house-filter-label">
                                <i class="fas fa-clipboard-check"></i>
                                RSVP Required
                            </label>
                            <select id="open-house-rsvp-filter" class="open-house-filter-select">
                                <option value="all">All</option>
                                <option value="true">Yes</option>
                                <option value="false">No</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Modal Overlay -->
                <div class="open-house-modal-overlay" id="open-house-modal-overlay"></div>

                <!-- Open House Form Modal -->
                <div class="open-house-form-modal" id="open-house-form-modal">
                    <div class="open-house-form-header">
                        <div class="open-house-form-header-content">
                            <i class="fas fa-door-open open-house-form-icon"></i>
                            <h2 id="open-house-modal-title" class="open-house-form-title">Schedule Open House</h2>
                        </div>
                        <button class="open-house-modal-close-btn" id="open-house-modal-close-btn">
                            <i class="bi bi-x"></i>
                        </button>
                    </div>

                    <div class="open-house-form-body">
                        <form id="open-house-form">
                            <!-- Property ID -->
                            <div class="open-house-form-group">
                                <label for="open-house-property-id" class="open-house-form-label">
                                    Property ID <span class="open-house-required">*</span>
                                </label>
                                <input 
                                    type="text" 
                                    id="open-house-property-id" 
                                    name="property_id"
                                    class="open-house-form-input"
                                    placeholder="Enter property ID"
                                    required
                                />
                            </div>

                            <!-- Date & Time Row -->
                            <div class="open-house-form-row">
                                <div class="open-house-form-group">
                                    <label for="open-house-start-datetime" class="open-house-form-label">
                                        Start Date & Time <span class="open-house-required">*</span>
                                    </label>
                                    <input 
                                        type="datetime-local" 
                                        id="open-house-start-datetime" 
                                        name="start_datetime"
                                        class="open-house-form-input"
                                        required
                                    />
                                </div>

                                <div class="open-house-form-group">
                                    <label for="open-house-end-datetime" class="open-house-form-label">
                                        End Date & Time <span class="open-house-required">*</span>
                                    </label>
                                    <input 
                                        type="datetime-local" 
                                        id="open-house-end-datetime" 
                                        name="end_datetime"
                                        class="open-house-form-input"
                                        required
                                    />
                                </div>
                            </div>

                            <!-- Host Information -->
                            <div class="open-house-form-section-header">
                                <i class="fas fa-user-tie"></i>
                                <span>Host Information</span>
                            </div>

                            <div class="open-house-form-group">
                                <label for="open-house-host-name" class="open-house-form-label">
                                    Host Name
                                </label>
                                <input 
                                    type="text" 
                                    id="open-house-host-name" 
                                    name="host_name"
                                    class="open-house-form-input"
                                    placeholder="Enter host name"
                                />
                            </div>

                            <div class="open-house-form-row">
                                <div class="open-house-form-group">
                                    <label for="open-house-host-phone" class="open-house-form-label">
                                        Host Phone
                                    </label>
                                    <input 
                                        type="tel" 
                                        id="open-house-host-phone" 
                                        name="host_phone"
                                        class="open-house-form-input"
                                        placeholder="(123) 456-7890"
                                    />
                                </div>

                                <div class="open-house-form-group">
                                    <label for="open-house-host-email" class="open-house-form-label">
                                        Host Email
                                    </label>
                                    <input 
                                        type="email" 
                                        id="open-house-host-email" 
                                        name="host_email"
                                        class="open-house-form-input"
                                        placeholder="host@example.com"
                                    />
                                </div>
                            </div>

                            <!-- Event Details -->
                            <div class="open-house-form-section-header">
                                <i class="fas fa-info-circle"></i>
                                <span>Event Details</span>
                            </div>

                            <div class="open-house-form-group">
                                <label for="open-house-description" class="open-house-form-label">
                                    Description
                                </label>
                                <textarea 
                                    id="open-house-description" 
                                    name="description"
                                    class="open-house-form-textarea"
                                    rows="4"
                                    placeholder="Enter event description, special features, or instructions..."
                                ></textarea>
                            </div>

                            <div class="open-house-form-row">
                                <div class="open-house-form-group">
                                    <label for="open-house-status" class="open-house-form-label">
                                        Status <span class="open-house-required">*</span>
                                    </label>
                                    <select 
                                        id="open-house-status" 
                                        name="status"
                                        class="open-house-form-select"
                                        required
                                    >
                                        <option value="Scheduled">Scheduled</option>
                                        <option value="Completed">Completed</option>
                                        <option value="Cancelled">Cancelled</option>
                                    </select>
                                </div>

                                <div class="open-house-form-group">
                                    <label for="open-house-max-attendees" class="open-house-form-label">
                                        Max Attendees
                                    </label>
                                    <input 
                                        type="number" 
                                        id="open-house-max-attendees" 
                                        name="max_attendees"
                                        class="open-house-form-input"
                                        placeholder="0"
                                        min="0"
                                    />
                                </div>
                            </div>

                            <!-- RSVP Checkbox -->
                            <div class="open-house-form-checkbox-wrapper">
                                <input 
                                    type="checkbox" 
                                    id="open-house-requires-rsvp" 
                                    name="requires_rsvp"
                                    class="open-house-form-checkbox"
                                />
                                <label for="open-house-requires-rsvp" class="open-house-form-checkbox-label">
                                    <i class="fas fa-envelope"></i>
                                    Require RSVP for this event
                                </label>
                            </div>

                            <!-- Form Actions -->
                            <div class="open-house-form-actions">
                                <button 
                                    type="button" 
                                    class="open-house-btn open-house-btn-cancel" 
                                    id="open-house-cancel-btn"
                                >
                                    <i class="fas fa-times"></i>
                                    Cancel
                                </button>
                                <button 
                                    type="submit" 
                                    class="open-house-btn open-house-btn-submit" 
                                    id="open-house-submit-btn"
                                >
                                    <i class="fas fa-save"></i>
                                    Save Open House
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Table Section -->
                <div class="open-house-table-container">
                    <div class="open-house-table-card">
                        <div class="open-house-table-header">
                            <div class="open-house-table-header-content">
                                <i class="fas fa-list"></i>
                                <h3>Open Houses List</h3>
                            </div>
                            <button class="open-house-refresh-btn" id="open-house-refresh-btn">
                                <i class="fas fa-sync-alt"></i>
                                Refresh
                            </button>
                        </div>

                        <div class="open-house-table-wrapper">
                            <table class="open-house-table" id="open-house-table">
                                <thead class="open-house-table-head">
                                    <tr>
                                        <th>ID</th>
                                        <th>Property ID</th>
                                        <th>Start Date & Time</th>
                                        <th>End Date & Time</th>
                                        <th>Host Name</th>
                                        <th>Host Contact</th>
                                        <th>Status</th>
                                        <th>Attendees</th>
                                        <th>RSVP Required</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="open-house-table-body">
                                    <!-- Data will be inserted here -->
                                </tbody>
                            </table>
                        </div>

                        <div class="open-house-empty-alert" id="open-house-empty-alert">
                            <i class="fas fa-info-circle"></i>
                            <p>No open houses found</p>
                        </div>
                    </div>
                </div>

                <!-- Pagination -->
                <div class="open-house-pagination" id="open-house-pagination"></div>
            </div>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../general/csrf-helper.js"></script>
    <script src="../general/toast-helper.js"></script>
    <script src="../general/confirmation-modal.js"></script>
    <script src="/frontend/admin/admin-open-houses.js"></script>
    <script src="/frontend/admin/admin-global.js"></script>
</body>
</html>